<html>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1">

<script>
var test;

$().ready(function(){
    $.getJSON( "./data.json", function( data ) {
    console.log(data);
    test = data["Team 7"][0]['matches'];
    console.log(data["Team 7"][0]);
    $("#test").html(data);
    $(".table").html(genTable(data["Team 7"][0]["table"]));
    //loadmatches();
  });
});

// Takes as input a json object containing the table standings
// Returns the html needed to show the table.
function genTable(obj){
    var tableContent = "<table cellspacing='0' cellpadding='0'><tr><th></th><th></th><th>P</th><th>G</th></tr>";
    var start = ""

    for (var i=0; i<obj.length;i++) {

        if (obj[i].team.toLowerCase().includes("hillegom")) {
            start = "<tr id='homeclub'><td id='rank'>";
        } else {
            start = "<tr><td id='rank'>";
        };

        tableContent += start + obj[i].rank + "</td><td id='tableClubname'>" + obj[i].team.toLowerCase() + "</td><td>" + obj[i].points + "</td><td>" + obj[i].played + "</td></tr>";
    };

    return tableContent;

}

function loadmatches(){
    var table = document.getElementById('test');
    var tableContent = document.getElementById('test').innerHTML;
    var tableContent = '';

    for (var i=0; i<test.length;i++) {
            tableContent += '<div id="tableDiv"><table><tr>' + test[i].home + " - " + test[i].away + " ::--:: " + test[i].score +  '</tr>';
            console.log(test[i]);
    }

    tableContent += '</table></div>';
    table.innerHTML = tableContent;
}
</script>
<header>
    <div id="head"> BC Hillegom competitie </div>
</header>

<body>
<div id="test"></div>
<div class="team">
    <div id="topteam"><p class="teamname">Hillegom BC 7</p><p class="teamdivision">6e divisie</p></div>
    <div class="table">test</div>
    <div class="nextgame">Next:</div>
</div>
<div class="team">
    <div id="topteam"><p class="teamname">Hillegom BC 7</p><p class="teamdivision">6e divisie</p></div>
    <div class="table">test</div>
    <div class="nextgame">Next:</div>
</div>
<div class="team">
    <div id="topteam"><p class="teamname">Hillegom BC 7</p><p class="teamdivision">6e divisie</p></div>
    <div class="table">test</div>
    <div class="nextgame">Next:</div>
</div>
<div class="team">
    <div id="topteam"><p class="teamname">Hillegom BC 7</p><p class="teamdivision">6e divisie</p></div>
    <div class="table">test</div>
    <div class="nextgame">Next:</div>
</div>
<div class="team">
    <div id="topteam"><p class="teamname">Hillegom BC 7</p><p class="teamdivision">6e divisie</p></div>
    <div class="table">test</div>
    <div class="nextgame">Next:</div>
</div>
<div class="team">
    <div id="topteam"><p class="teamname">Hillegom BC 7</p><p class="teamdivision">6e divisie</p></div>
    <div class="table">test</div>
    <div class="nextgame">Next:</div>
</div>
</body>
</html>